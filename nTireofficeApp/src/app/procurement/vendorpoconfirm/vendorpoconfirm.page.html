

<ion-content>

  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Vendor PO Confirm</ion-title>
    </ion-toolbar>
  </ion-header>


  <div style="margin-top: 10px;"><span style="font-size: 24px;margin: 25px;color:black;" (click)="togglefilter()"><i class="fa fa-filter" aria-hidden="true"></i></span></div>

    <ion-card *ngIf="showfilter" style="background:#aa2ed27a;border-radius:5px;">

      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col size="6">
              <ion-label>Branch</ion-label>
              <ion-item>
              <ion-select style="background:white;padding: 10px;border: none;" [(ngModel)]="branch_id" >
                <ion-select-option value=""><< Select >></ion-select-option>
                <ion-select-option *ngFor="let item of allbranch" value={{item.BRANCH_ID}}>{{item.BRANCH_CODE}}</ion-select-option>
              </ion-select>
            </ion-item>

            </ion-col>
            <ion-col size="6">
              <ion-label>Vendor Code</ion-label>
              <ion-item>
              <ion-input [(ngModel)]="vendorcode" style="background:white;display:inline-block" type="text" ></ion-input>
            </ion-item>

            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <ion-label>PO Number</ion-label>
              <ion-item>
              <ion-input [(ngModel)]="ponum" style="background:white;display:inline-block" type="text"></ion-input>
            </ion-item>
            </ion-col>
            <ion-col size="6">
              <ion-label>Status</ion-label>
              <ion-item>
              <ion-select [(ngModel)]="postatus"style="background:white;padding: 10px;border: none;" >
                <ion-select-option value="" >
                  << Select >></ion-select-option>
                <ion-select-option value="N">New</ion-select-option>
                <ion-select-option value="P">Pending</ion-select-option>
                <ion-select-option value="A">Approved</ion-select-option>
                <ion-select-option value="C">Cancelled</ion-select-option>
                <ion-select-option value="D">Denied</ion-select-option>
                <ion-select-option value="CN">Vendor Confirmed</ion-select-option>
                <ion-select-option value="X">Approved</ion-select-option>
              </ion-select>
            </ion-item>

            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <ion-label>From Date</ion-label>
              <span class=""><i class="icon ion-calendar placeholder-icon" style="padding-left: 0px;"></i>
              </span>
              <input [(ngModel)]="fromdate" type="date" style="display:inline-block;padding: 8px;"/>

            </ion-col>
            <ion-col size="6">
             <ion-label>To Date</ion-label>
             <span class=""><i class="icon ion-calendar placeholder-icon" style="background:white;padding-left: 0px;"></i>
             </span>
              <input type="date"  min="{{fromdate | date: 'yyyy-MM-dd'}}" [(ngModel)]="todate" required="" style="display:inline-block;padding: 8px;"/>
            </ion-col>
          </ion-row>


          <ion-row>
            <ion-col style="text-align: center;">
              <ion-button (click)="searchpo(branch_id,ponum,vendorcode
              ,postatus,fromdate,todate)"  style="min-width: 115px; --background: #009689;font-size: 14px;color: white;" type="submit"   >SEARCH</ion-button>            </ion-col>
          </ion-row>

        </ion-grid>
      </ion-card-content>
    </ion-card>
        <div *ngIf="PO_list.length!=0" >
        <ion-card  *ngFor="let item of (PO_list)">

          <ion-card-content>
            <ion-grid>
              <ion-row>
                <ion-col size="6">
                  <p class="" style="color: #b300ec;font-weight: bold;">{{item.po_reference}}</p>
                </ion-col>
                <ion-col size="6">
                  <p class="" style="color: #b300ec;text-align: right;font-weight: bold;">{{item.po_date}}</p>
                </ion-col>
              </ion-row>

              <ion-row>
                <ion-col size="6">
                  <p style="text-align:left;font-weight: bold">Vendor Code</p>
                </ion-col>
                <ion-col size="6">
                  <p style="text-align: right;">{{item.vendor_code}}</p>

                </ion-col>
              </ion-row>

              <ion-row>
                <ion-col size="6">
                  <p style="text-align:left;font-weight: bold">Vendor Name</p>
                </ion-col>
                <ion-col size="6">
                  <p style="text-align: right;">{{item.vendor_name}}</p>

                </ion-col>
              </ion-row>

              <ion-row>
                <ion-col size="4">
                  <p style="text-align:left;font-weight: bold">Status</p>
                </ion-col>
                <ion-col size="8">
                  <p style="text-align: right;">{{item.status}}</p>

                </ion-col>
              </ion-row>






              <ion-row>
                <ion-col  style="text-align: center;">
                  <ion-button style="min-width: 35px;margin: 5px; --background: #009689;font-size: 14px;
                  color: white;" type="button" (click)="confirmPo(item)" class="button button-assertive button-small editbut col">Confirm</ion-button>

                  <ion-button *ngIf="item.status=='Approved'" style="min-width: 35px;margin: 5px; --background: #009689;font-size: 14px;
                  color: white;" type="button" (click)="payPo(item)" class="button button-assertive button-small editbut col" >Update</ion-button>

                </ion-col>
              </ion-row>

            </ion-grid>
          </ion-card-content>
        </ion-card>
      </div>

        <p style="font-weight: bold;text-align: center;color:white;" *ngIf="PO_list.length==0" >No record Found</p>

</ion-content>
